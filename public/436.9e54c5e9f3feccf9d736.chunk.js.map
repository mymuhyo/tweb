{"version":3,"file":"436.9e54c5e9f3feccf9d736.chunk.js","mappings":"yKAYA,MA0CMA,EAAO,I,QAAI,GAAK,cAAc,GA1Cf,KACnB,yCAA+C,YAAa,CAACC,EAAG,sBAI5D,8BACF,wBAAwBC,MAAMC,IACzBA,EAASC,OACV,iBAAiBD,EAASE,U,IAKhCL,EAAKM,OAAOC,MAAMC,QAAU,IAe5B,SAEOC,QAAQC,IAAI,EACjB,SACA,uCACA,8BAA+BC,iBAAiBC,UAAYH,QAAQI,UAAY,gCAC/EX,MAAK,EAAED,EAAGa,EAAmBC,MAC9BD,EAAkBE,QAAQC,QAC1BC,YAAW,KACTC,SAASC,eAAe,cAAcC,QAAQ,GAC7C,IAAI,OAKX,G","sources":["webpack://tweb/./src/pages/pageIm.ts"],"sourcesContent":["/*\n * https://github.com/morethanwords/tweb\n * Copyright (C) 2019-2021 Eduard Kuzmenko\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\n */\n\nimport blurActiveElement from '../helpers/dom/blurActiveElement';\nimport loadFonts from '../helpers/dom/loadFonts';\nimport I18n from '../lib/langPack';\nimport rootScope from '../lib/rootScope';\nimport Page from './page';\n\nconst onFirstMount = () => {\n  rootScope.managers.appStateManager.pushToState('authState', {_: 'authStateSignedIn'});\n  // ! TOO SLOW\n  /* appStateManager.saveState(); */\n\n  if(!I18n.requestedServerLanguage) {\n    I18n.getCacheLangPack().then((langPack) => {\n      if(langPack.local) {\n        I18n.getLangPack(langPack.lang_code);\n      }\n    });\n  }\n\n  page.pageEl.style.display = '';\n\n  // AudioContext && global.navigator && global.navigator.mediaDevices && global.navigator.mediaDevices.getUserMedia && global.WebAssembly;\n\n  /* // @ts-ignore\n  var AudioContext = globalThis.AudioContext || globalThis.webkitAudioContext;\n  alert('AudioContext:' + typeof(AudioContext));\n  // @ts-ignore\n  alert('global.navigator:' + typeof(navigator));\n  alert('navigator.mediaDevices:' + typeof(navigator.mediaDevices));\n  alert('navigator.mediaDevices.getUserMedia:' + typeof(navigator.mediaDevices?.getUserMedia));\n  alert('global.WebAssembly:' + typeof(WebAssembly)); */\n\n  // (Array.from(document.getElementsByClassName('rp')) as HTMLElement[]).forEach((el) => ripple(el));\n\n  blurActiveElement();\n\n  return Promise.all([\n    loadFonts()/* .then(() => new Promise((resolve) => window.requestAnimationFrame(resolve))) */,\n    import('../lib/appManagers/appDialogsManager'),\n    'requestVideoFrameCallback' in HTMLVideoElement.prototype ? Promise.resolve() : import('../helpers/dom/requestVideoFrameCallbackPolyfill')\n  ]).then(([_, appDialogsManager, __]) => {\n    appDialogsManager.default.start();\n    setTimeout(() => {\n      document.getElementById('auth-pages').remove();\n    }, 1e3);\n  });\n};\n\nconst page = new Page('page-chats', false, onFirstMount);\nexport default page;\n"],"names":["page","_","then","langPack","local","lang_code","pageEl","style","display","Promise","all","HTMLVideoElement","prototype","resolve","appDialogsManager","__","default","start","setTimeout","document","getElementById","remove"],"sourceRoot":""}